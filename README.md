# YAMail Bot for Telegram

Телеграм-бот, который принимает файлы от пользователей и сохраняет их на Яндекс.Диск. Проект использует `aiogram` 3.x и небольшой клиент для работы с Yandex.Disk API.

## Возможности
- Команда `/start` с приветствием и подсказками.
- Приём документов, фото, видео, голосовых сообщений и стикеров.
- Создание нужных папок на диске и загрузка файлов через публичный API Яндекс.Диска.
- Отправка информации о свободном и используемом месте после загрузки.

## Требования
- Python 3.10+
- Токены для Telegram Bot API и Yandex.Disk.

Зависимости фиксированы в `requirements.txt` и включают `aiogram`, `requests`, `python-dotenv` и `pytest` для тестов.

## Быстрый старт
1. Склонируйте репозиторий и создайте виртуальное окружение.
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Создайте файл `.env` на основе `.env.example` и заполните токены:
   ```env
   TELEGRAM_TOKEN=your-telegram-bot-token
   YANDEX_TOKEN=your-yandex-disk-token
   ```
4. Запустите бота:
   ```bash
   python -m bot.main
   ```

## Тестирование
В проекте настроен `pytest` и добавлены примеры тестов для функции вычисления чисел Фибоначчи.

1. Запустите все тесты:
   ```bash
   pytest
   ```
   Ожидаемый результат: успешное завершение с сообщением наподобие `5 passed in 0.05s`.

2. Запустить только тесты Фибоначчи:
   ```bash
   pytest tests/test_fibonacci.py
   ```
   Тесты проверяют:
   - корректные значения для индексов 0, 1, 2, 3, 5 и 10;
   - быстрое вычисление значения для индекса 30 (используется мемоизация);
   - возбуждение `ValueError` при передаче нецелочисленного значения или отрицательного индекса.

## Структура проекта
- `bot/main.py` — точка входа бота.
- `bot/handlers.py` — обработчики команд и загрузок.
- `bot/yandex_client.py` — клиент для Yandex.Disk API.
- `bot/utils.py` — вспомогательные функции (включая `fibonacci`).
- `tests/` — модульные тесты.

## Переменные окружения
- `TELEGRAM_TOKEN` — токен бота от @BotFather.
- `YANDEX_TOKEN` — OAuth-токен для доступа к Яндекс.Диску.

## Примечания по разработке
- Логирование настроено через стандартный `logging` с уровнем INFO.
- Для локальной проверки загрузок потребуется действующий OAuth-токен Яндекс.Диска.